2025-07-06 12:03:09.935 | SUCCESS  | sociology_simulation.prompts:load_from_config:421 - 从 sociology_simulation/conf/prompts.yaml 加载了 12 个提示词模板
2025-07-06 12:03:09.936 | INFO     | __main__:main:83 - Starting sociology simulation with Hydra configuration
2025-07-06 12:03:09.936 | INFO     | __main__:main:84 - Initialized 12 prompt templates
2025-07-06 12:03:09.936 | INFO     | __main__:main:85 - Prompt statistics: {'total_templates': 12, 'json_templates': 8, 'categories': {'agent': 3, 'trinity': 5, 'action': 2, 'json': 1, 'rule': 1}}
2025-07-06 12:03:09.936 | INFO     | __main__:main:86 - Era: 石器时代
2025-07-06 12:03:09.936 | INFO     | __main__:main:87 - World size: 64x64
2025-07-06 12:03:09.936 | INFO     | __main__:main:88 - Number of agents: 10
2025-07-06 12:03:09.936 | INFO     | __main__:main:89 - Turns: 1000
2025-07-06 12:03:09.936 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: trinity_generate_initial_rules, 错误: 提示词模板 trinity_generate_initial_rules 缺少参数: '"key"'
2025-07-06 12:03:09.936 | SUCCESS  | sociology_simulation.trinity:_generate_initial_rules:49 - [Trinity] Generated rules for era: 石器时代
2025-07-06 12:03:09.936 | INFO     | sociology_simulation.world:initialize:76 - 
========================================
2025-07-06 12:03:09.936 | INFO     | sociology_simulation.world:initialize:77 - INITIALIZING WORLD FOR ERA: 石器时代
2025-07-06 12:03:09.936 | INFO     | sociology_simulation.world:initialize:78 - TERRAIN TYPES: FOREST, OCEAN, MOUNTAIN, GRASSLAND
2025-07-06 12:03:09.936 | INFO     | sociology_simulation.world:initialize:79 - RESOURCE RULES:
2025-07-06 12:03:09.936 | INFO     | sociology_simulation.world:initialize:81 -   WOOD:
2025-07-06 12:03:09.937 | INFO     | sociology_simulation.world:initialize:83 -     - FOREST: 50.0% chance
2025-07-06 12:03:09.937 | INFO     | sociology_simulation.world:initialize:81 -   FISH:
2025-07-06 12:03:09.937 | INFO     | sociology_simulation.world:initialize:83 -     - OCEAN: 40.0% chance
2025-07-06 12:03:09.937 | INFO     | sociology_simulation.world:initialize:81 -   STONE:
2025-07-06 12:03:09.937 | INFO     | sociology_simulation.world:initialize:83 -     - MOUNTAIN: 60.0% chance
2025-07-06 12:03:09.937 | INFO     | sociology_simulation.world:initialize:84 - ========================================

2025-07-06 12:03:09.937 | INFO     | sociology_simulation.world:generate_realistic_terrain:143 - Generating terrain using 'mixed' algorithm with seed 737399
2025-07-06 12:03:10.027 | SUCCESS  | sociology_simulation.world:generate_realistic_terrain:153 - Generated realistic 64x64 terrain map
2025-07-06 12:03:10.027 | INFO     | sociology_simulation.world:initialize:94 - INITIAL RESOURCE DISTRIBUTION:
2025-07-06 12:03:10.028 | INFO     | sociology_simulation.world:initialize:96 -   FISH: 212 units
2025-07-06 12:03:10.028 | INFO     | sociology_simulation.world:initialize:96 -   STONE: 365 units
2025-07-06 12:03:10.028 | INFO     | sociology_simulation.world:initialize:96 -   WOOD: 96 units
2025-07-06 12:03:10.028 | INFO     | sociology_simulation.world:initialize:97 - ========================================

2025-07-06 12:03:16.042 | INFO     | sociology_simulation.agent:decide_goal:168 - [95m🎯[0m [1mSpark(8)[0m [94mpersonal goal ➜[0m [3mBecome the most respected storyteller and peacemaker among neighboring tribes by sharing wisdom a...[0m
2025-07-06 12:03:16.284 | INFO     | sociology_simulation.agent:decide_goal:168 - [95m🎯[0m [1mFlint(1)[0m [94mpersonal goal ➜[0m [3mDiscover and map all edible plants and medicinal herbs within a three-day walking distance of my ...[0m
2025-07-06 12:03:16.479 | INFO     | sociology_simulation.agent:decide_goal:168 - [95m🎯[0m [1mEmber(0)[0m [94mpersonal goal ➜[0m [3mBecome the respected storyteller of my tribe by collecting and sharing tales of our ancestors and...[0m
2025-07-06 12:03:16.505 | INFO     | sociology_simulation.agent:decide_goal:168 - [95m🎯[0m [1mStorm(6)[0m [94mpersonal goal ➜[0m [3mBecome the respected elder who leads community storytelling gatherings and mediates disputes usin...[0m
2025-07-06 12:03:16.613 | INFO     | sociology_simulation.agent:decide_goal:168 - [95m🎯[0m [1mEmber(7)[0m [94mpersonal goal ➜[0m [3mBecome the most respected storyteller and mediator in the tribe by collecting and sharing tales f...[0m
2025-07-06 12:03:17.278 | INFO     | sociology_simulation.agent:decide_goal:168 - [95m🎯[0m [1mStorm(3)[0m [94mpersonal goal ➜[0m [3mBecome the most skilled and respected hunter-gatherer in the tribe by mastering tracking techniqu...[0m
2025-07-06 12:03:17.729 | INFO     | sociology_simulation.agent:decide_goal:168 - [95m🎯[0m [1mFlint(5)[0m [94mpersonal goal ➜[0m [3mBecome the respected elder who trains the strongest young hunters in the tribe to ensure our surv...[0m
2025-07-06 12:03:17.900 | INFO     | sociology_simulation.agent:decide_goal:168 - [95m🎯[0m [1mEmber(9)[0m [94mpersonal goal ➜[0m [3mBecome the most respected storyteller and wisdom-keeper of the tribe by sharing captivating tales...[0m
2025-07-06 12:03:18.255 | INFO     | sociology_simulation.agent:decide_goal:168 - [95m🎯[0m [1mFlare(2)[0m [94mpersonal goal ➜[0m [3mBecome the most respected storyteller and mediator in my tribe by crafting compelling tales from ...[0m
2025-07-06 12:03:18.596 | INFO     | sociology_simulation.agent:decide_goal:168 - [95m🎯[0m [1mFlare(4)[0m [94mpersonal goal ➜[0m [3mBecome the most skilled and respected toolmaker in the tribe by crafting superior stone tools and...[0m
2025-07-06 12:03:18.597 | INFO     | sociology_simulation.world:step:557 - 
=== TURN 0 START ===
2025-07-06 12:03:21.416 | INFO     | sociology_simulation.world:resolve:254 - [96m→[0m [1mStorm(6)[0m: (age 57) attempting: "move to the grassland at [17,14] to find other agents"
2025-07-06 12:03:21.416 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: action_handler_resolve, 错误: 提示词模板 action_handler_resolve 缺少参数: '"key"'
2025-07-06 12:03:21.417 | INFO     | sociology_simulation.world:_process_outcome:326 - Processing outcome for Storm(6):
2025-07-06 12:03:21.417 | INFO     | sociology_simulation.agent:act:362 - [92m⚡[0m [1mStorm(6)[0m [93m行动 →[0m [36m"move to the grassland at [17,14] to find other agents"[0m
2025-07-06 12:03:22.149 | INFO     | sociology_simulation.world:resolve:254 - [96m→[0m [1mSpark(8)[0m: (age 48) attempting: "move east towards the mountains to gather stones for cr...
2025-07-06 12:03:22.149 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: action_handler_resolve, 错误: 提示词模板 action_handler_resolve 缺少参数: '"key"'
2025-07-06 12:03:22.149 | INFO     | sociology_simulation.world:_process_outcome:326 - Processing outcome for Spark(8):
2025-07-06 12:03:22.149 | INFO     | sociology_simulation.agent:act:362 - [92m⚡[0m [1mSpark(8)[0m [93m行动 →[0m [36m"move east towards the mountains to gather stones for crafting tools"[0m
2025-07-06 12:03:22.214 | INFO     | sociology_simulation.world:resolve:254 - [96m→[0m [1mFlare(2)[0m: (age 34) attempting: "move north to the forest at [9,38] to collect wood"
2025-07-06 12:03:22.215 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: action_handler_resolve, 错误: 提示词模板 action_handler_resolve 缺少参数: '"key"'
2025-07-06 12:03:22.215 | INFO     | sociology_simulation.world:_process_outcome:326 - Processing outcome for Flare(2):
2025-07-06 12:03:22.215 | INFO     | sociology_simulation.agent:act:362 - [92m⚡[0m [1mFlare(2)[0m [93m行动 →[0m [36m"move north to the forest at [9,38] to collect wood"[0m
2025-07-06 12:03:22.270 | INFO     | sociology_simulation.world:resolve:254 - [96m→[0m [1mFlare(4)[0m: (age 19) attempting: "move north to the forest at [20,38] to collect wood"
2025-07-06 12:03:22.270 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: action_handler_resolve, 错误: 提示词模板 action_handler_resolve 缺少参数: '"key"'
2025-07-06 12:03:22.270 | INFO     | sociology_simulation.world:_process_outcome:326 - Processing outcome for Flare(4):
2025-07-06 12:03:22.270 | INFO     | sociology_simulation.agent:act:362 - [92m⚡[0m [1mFlare(4)[0m [93m行动 →[0m [36m"move north to the forest at [20,38] to collect wood"[0m
2025-07-06 12:03:22.395 | INFO     | sociology_simulation.world:resolve:254 - [96m→[0m [1mEmber(9)[0m: (age 70) attempting: "move west to find tribe members to share stories with"
2025-07-06 12:03:22.396 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: action_handler_resolve, 错误: 提示词模板 action_handler_resolve 缺少参数: '"key"'
2025-07-06 12:03:22.396 | INFO     | sociology_simulation.world:_process_outcome:326 - Processing outcome for Ember(9):
2025-07-06 12:03:22.396 | INFO     | sociology_simulation.agent:act:362 - [92m⚡[0m [1mEmber(9)[0m [93m行动 →[0m [36m"move west to find tribe members to share stories with"[0m
2025-07-06 12:03:22.610 | INFO     | sociology_simulation.world:resolve:254 - [96m→[0m [1mStorm(3)[0m: (age 43) attempting: "collect stone at current position"
2025-07-06 12:03:22.610 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: action_handler_resolve, 错误: 提示词模板 action_handler_resolve 缺少参数: '"key"'
2025-07-06 12:03:22.611 | INFO     | sociology_simulation.world:_process_outcome:326 - Processing outcome for Storm(3):
2025-07-06 12:03:22.611 | INFO     | sociology_simulation.agent:act:362 - [92m⚡[0m [1mStorm(3)[0m [93m行动 →[0m [36m"collect stone at current position"[0m
2025-07-06 12:03:22.668 | INFO     | sociology_simulation.world:resolve:254 - [96m→[0m [1mEmber(7)[0m: (age 39) attempting: "move west to chat with Flint"
2025-07-06 12:03:22.668 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: action_handler_resolve, 错误: 提示词模板 action_handler_resolve 缺少参数: '"key"'
2025-07-06 12:03:22.669 | INFO     | sociology_simulation.world:_process_outcome:326 - Processing outcome for Ember(7):
2025-07-06 12:03:22.669 | INFO     | sociology_simulation.agent:act:362 - [92m⚡[0m [1mEmber(7)[0m [93m行动 →[0m [36m"move west to chat with Flint"[0m
2025-07-06 12:03:22.739 | INFO     | sociology_simulation.world:resolve:254 - [96m→[0m [1mFlint(5)[0m: (age 70) attempting: "move towards the ocean to find potential fishing spots"
2025-07-06 12:03:22.740 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: action_handler_resolve, 错误: 提示词模板 action_handler_resolve 缺少参数: '"key"'
2025-07-06 12:03:22.740 | INFO     | sociology_simulation.world:_process_outcome:326 - Processing outcome for Flint(5):
2025-07-06 12:03:22.740 | INFO     | sociology_simulation.agent:act:362 - [92m⚡[0m [1mFlint(5)[0m [93m行动 →[0m [36m"move towards the ocean to find potential fishing spots"[0m
2025-07-06 12:03:23.413 | INFO     | sociology_simulation.world:resolve:254 - [96m→[0m [1mEmber(0)[0m: (age 69) attempting: "move north to explore new areas for stories"
2025-07-06 12:03:23.414 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: action_handler_resolve, 错误: 提示词模板 action_handler_resolve 缺少参数: '"key"'
2025-07-06 12:03:23.415 | INFO     | sociology_simulation.world:_process_outcome:326 - Processing outcome for Ember(0):
2025-07-06 12:03:23.415 | INFO     | sociology_simulation.agent:act:362 - [92m⚡[0m [1mEmber(0)[0m [93m行动 →[0m [36m"move north to explore new areas for stories"[0m
2025-07-06 12:03:24.438 | INFO     | sociology_simulation.world:resolve:254 - [96m→[0m [1mFlint(1)[0m: (age 42) attempting: "move south to explore the grassland areas for edible pl...
2025-07-06 12:03:24.438 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: action_handler_resolve, 错误: 提示词模板 action_handler_resolve 缺少参数: '"key"'
2025-07-06 12:03:24.438 | INFO     | sociology_simulation.world:_process_outcome:326 - Processing outcome for Flint(1):
2025-07-06 12:03:24.439 | INFO     | sociology_simulation.agent:act:362 - [92m⚡[0m [1mFlint(1)[0m [93m行动 →[0m [36m"move south to explore the grassland areas for edible plants"[0m
2025-07-06 12:03:24.440 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: trinity_adjudicate, 错误: 提示词模板 trinity_adjudicate 缺少参数: '"key"'
2025-07-06 12:03:24.442 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: trinity_analyze_behaviors, 错误: 提示词模板 trinity_analyze_behaviors 缺少参数: '"key"'
2025-07-06 12:03:24.443 | ERROR    | sociology_simulation.enhanced_llm:generate:154 - 生成响应失败 - 模板: trinity_execute_actions, 错误: 提示词模板 trinity_execute_actions 缺少参数: '"key"'
2025-07-06 12:03:24.443 | INFO     | sociology_simulation.world:step:769 - 
========================================
2025-07-06 12:03:24.443 | INFO     | sociology_simulation.world:step:770 - TURN SUMMARY - 10 agents alive
2025-07-06 12:03:24.443 | INFO     | sociology_simulation.world:step:771 - Groups: 0, Technologies: 0
2025-07-06 12:03:24.443 | INFO     | sociology_simulation.world:step:772 - Markets: 0, Political Entities: 0
2025-07-06 12:03:24.443 | INFO     | sociology_simulation.world:step:773 - Era: 石器时代
2025-07-06 12:03:24.443 | INFO     | sociology_simulation.world:step:775 - 技能单一，社会发展受限
2025-07-06 12:03:24.443 | INFO     | sociology_simulation.world:step:775 - 社会孤立现象严重，合作困难
2025-07-06 12:03:24.443 | INFO     | sociology_simulation.world:step:775 - 经济困难，资源分配不均
2025-07-06 12:03:24.443 | INFO     | sociology_simulation.world:step:776 - ========================================

2025-07-06 12:03:24.444 | INFO     | sociology_simulation.world:step:557 - 
=== TURN 2 START ===
