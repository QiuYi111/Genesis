2025-07-06 17:25:28.303 | SUCCESS  | sociology_simulation.prompts:load_from_config:399 - ‰ªé sociology_simulation/conf/prompts.yaml Âä†ËΩΩ‰∫Ü 12 ‰∏™ÊèêÁ§∫ËØçÊ®°Êùø
2025-07-06 17:25:28.303 | INFO     | __main__:main:88 - Applying MCP integration...
2025-07-06 17:25:28.303 | INFO     | sociology_simulation.mcp_integration:apply_mcp_integration:576 - Applying MCP integration patches...
2025-07-06 17:25:28.303 | SUCCESS  | sociology_simulation.mcp_integration:apply_mcp_integration:580 - Agent class patched for MCP
2025-07-06 17:25:28.303 | SUCCESS  | sociology_simulation.mcp_integration:apply_mcp_integration:586 - Trinity class patched for MCP
2025-07-06 17:25:28.304 | SUCCESS  | sociology_simulation.mcp_integration:apply_mcp_integration:592 - World class patched for MCP
2025-07-06 17:25:28.304 | SUCCESS  | sociology_simulation.mcp_integration:apply_mcp_integration:596 - MCP integration patches applied successfully
2025-07-06 17:25:28.304 | INFO     | __main__:main:90 - MCP integration applied successfully
2025-07-06 17:25:28.304 | INFO     | __main__:main:92 - Starting sociology simulation with Hydra configuration
2025-07-06 17:25:28.304 | INFO     | __main__:main:93 - Initialized 12 prompt templates
2025-07-06 17:25:28.304 | INFO     | __main__:main:94 - Prompt statistics: {'total_templates': 12, 'json_templates': 8, 'categories': {'agent': 3, 'trinity': 5, 'action': 2, 'json': 1, 'rule': 1}}
2025-07-06 17:25:28.304 | INFO     | __main__:main:95 - Era: Áü≥Âô®Êó∂‰ª£
2025-07-06 17:25:28.304 | INFO     | __main__:main:96 - World size: 64x64
2025-07-06 17:25:28.304 | INFO     | __main__:main:97 - Number of agents: 2
2025-07-06 17:25:28.304 | INFO     | __main__:main:98 - Turns: 2
2025-07-06 17:25:28.305 | INFO     | __main__:run_simulation:120 - Initializing MCP client for world...
2025-07-06 17:25:28.305 | WARNING  | sociology_simulation.mcp_client:initialize:85 - Failed to connect to agent_actions server: ClientSession.__init__() missing 2 required positional arguments: 'read_stream' and 'write_stream'
2025-07-06 17:25:28.305 | WARNING  | sociology_simulation.mcp_client:initialize:85 - Failed to connect to social_interactions server: ClientSession.__init__() missing 2 required positional arguments: 'read_stream' and 'write_stream'
2025-07-06 17:25:28.305 | WARNING  | sociology_simulation.mcp_client:initialize:85 - Failed to connect to world_management server: ClientSession.__init__() missing 2 required positional arguments: 'read_stream' and 'write_stream'
2025-07-06 17:25:28.305 | WARNING  | sociology_simulation.mcp_client:initialize:85 - Failed to connect to skills server: ClientSession.__init__() missing 2 required positional arguments: 'read_stream' and 'write_stream'
2025-07-06 17:25:28.305 | WARNING  | sociology_simulation.mcp_client:initialize:85 - Failed to connect to decision server: ClientSession.__init__() missing 2 required positional arguments: 'read_stream' and 'write_stream'
2025-07-06 17:25:28.305 | WARNING  | sociology_simulation.mcp_client:initialize:89 - No MCP servers available, using fallback mode
2025-07-06 17:25:28.305 | SUCCESS  | sociology_simulation.mcp_integration:initialize_mcp:452 - MCP integration initialized
2025-07-06 17:25:28.305 | INFO     | __main__:run_simulation:122 - MCP client initialized successfully
2025-07-06 17:25:28.305 | WARNING  | sociology_simulation.mcp_integration:mcp_generate_initial_rules:340 - [Trinity MCP] Using fallback rule generation
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.mcp_integration:_setup_default_rules:369 - Setup default rules for Trinity
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:76 - 
========================================
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:77 - INITIALIZING WORLD FOR ERA: Áü≥Âô®Êó∂‰ª£
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:78 - TERRAIN TYPES: OCEAN, FOREST, GRASSLAND, MOUNTAIN
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:79 - RESOURCE RULES:
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:81 -   WOOD:
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:83 -     - FOREST: 50.0% chance
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:83 -     - OCEAN: 0% chance
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:81 -   APPLE:
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:83 -     - FOREST: 30.0% chance
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:83 -     - GRASSLAND: 20.0% chance
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:81 -   FISH:
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:83 -     - OCEAN: 40.0% chance
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:81 -   STONE:
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:83 -     - MOUNTAIN: 60.0% chance
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:81 -   MAGICAL_CRYSTAL:
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:83 -     - MOUNTAIN: 10.0% chance
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:83 -     - FOREST: 5.0% chance
2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:initialize:84 - ========================================

2025-07-06 17:25:28.305 | INFO     | sociology_simulation.world:generate_realistic_terrain:143 - Generating terrain using 'mixed' algorithm with seed 147288
2025-07-06 17:25:28.411 | SUCCESS  | sociology_simulation.world:generate_realistic_terrain:153 - Generated realistic 64x64 terrain map
2025-07-06 17:25:28.413 | INFO     | sociology_simulation.world:initialize:94 - INITIAL RESOURCE DISTRIBUTION:
2025-07-06 17:25:28.413 | INFO     | sociology_simulation.world:initialize:96 -   APPLE: 784 units
2025-07-06 17:25:28.413 | INFO     | sociology_simulation.world:initialize:96 -   FISH: 122 units
2025-07-06 17:25:28.413 | INFO     | sociology_simulation.world:initialize:96 -   MAGICAL_CRYSTAL: 6 units
2025-07-06 17:25:28.413 | INFO     | sociology_simulation.world:initialize:96 -   STONE: 6 units
2025-07-06 17:25:28.413 | INFO     | sociology_simulation.world:initialize:96 -   WOOD: 22 units
2025-07-06 17:25:28.413 | INFO     | sociology_simulation.world:initialize:97 - ========================================

2025-07-06 17:25:35.694 | INFO     | sociology_simulation.agent:decide_goal:183 - üéØ Rok(0) personal goal ‚ûú Become the strongest hunter in the tribe by crafting better stone tools and leading successful hu...
2025-07-06 17:25:35.701 | INFO     | sociology_simulation.agent:decide_goal:183 - üéØ Rook(1) personal goal ‚ûú Become the tribe's expert in identifying and collecting edible plants and medicinal herbs from th...
2025-07-06 17:25:35.701 | INFO     | sociology_simulation.world:step:557 - 
=== TURN 0 START ===
2025-07-06 17:25:35.701 | ERROR    | sociology_simulation.mcp_integration:_llm_choose_action_with_mcp_tools:276 - LLM action selection error for agent 0: 'EnhancedLLMService' object has no attribute 'generate_response'
2025-07-06 17:25:35.701 | ERROR    | sociology_simulation.mcp_integration:_llm_choose_action_with_mcp_tools:276 - LLM action selection error for agent 1: 'EnhancedLLMService' object has no attribute 'generate_response'
2025-07-06 17:25:35.732 | WARNING  | sociology_simulation.mcp_integration:mcp_adjudicate:391 - [Trinity MCP] Using fallback adjudication
2025-07-06 17:25:35.732 | INFO     | sociology_simulation.mcp_integration:_basic_adjudicate:400 - [Trinity Fallback] Processing 0 events
2025-07-06 17:25:35.732 | INFO     | sociology_simulation.mcp_integration:mcp_execute_actions:426 - [Trinity MCP] Using basic action execution
2025-07-06 17:25:35.732 | INFO     | sociology_simulation.mcp_integration:_basic_execute_actions:435 - [Trinity Fallback] Executing basic world actions
2025-07-06 17:25:35.735 | INFO     | sociology_simulation.world:step:761 - Web data exported to: web_data/simulation_turn_000.json
2025-07-06 17:25:35.735 | INFO     | sociology_simulation.world:step:769 - 
========================================
2025-07-06 17:25:35.735 | INFO     | sociology_simulation.world:step:770 - TURN SUMMARY - 2 agents alive
2025-07-06 17:25:35.735 | INFO     | sociology_simulation.world:step:771 - Groups: 0, Technologies: 0
2025-07-06 17:25:35.735 | INFO     | sociology_simulation.world:step:772 - Markets: 0, Political Entities: 0
2025-07-06 17:25:35.735 | INFO     | sociology_simulation.world:step:773 - Era: Áü≥Âô®Êó∂‰ª£
2025-07-06 17:25:35.735 | INFO     | sociology_simulation.world:step:775 - ÊäÄËÉΩÂçï‰∏ÄÔºåÁ§æ‰ºöÂèëÂ±ïÂèóÈôê
2025-07-06 17:25:35.735 | INFO     | sociology_simulation.world:step:775 - Á§æ‰ºöÂ≠§Á´ãÁé∞Ë±°‰∏•ÈáçÔºåÂêà‰ΩúÂõ∞Èöæ
2025-07-06 17:25:35.735 | INFO     | sociology_simulation.world:step:775 - ÁªèÊµéÂõ∞ÈöæÔºåËµÑÊ∫êÂàÜÈÖç‰∏çÂùá
2025-07-06 17:25:35.735 | INFO     | sociology_simulation.world:step:776 - ========================================

2025-07-06 17:25:35.735 | INFO     | sociology_simulation.world:step:557 - 
=== TURN 1 START ===
2025-07-06 17:25:35.736 | ERROR    | sociology_simulation.mcp_integration:_llm_choose_action_with_mcp_tools:276 - LLM action selection error for agent 0: 'EnhancedLLMService' object has no attribute 'generate_response'
2025-07-06 17:25:35.736 | ERROR    | sociology_simulation.mcp_integration:_llm_choose_action_with_mcp_tools:276 - LLM action selection error for agent 1: 'EnhancedLLMService' object has no attribute 'generate_response'
2025-07-06 17:25:35.736 | WARNING  | sociology_simulation.mcp_integration:mcp_adjudicate:391 - [Trinity MCP] Using fallback adjudication
2025-07-06 17:25:35.736 | INFO     | sociology_simulation.mcp_integration:_basic_adjudicate:400 - [Trinity Fallback] Processing 0 events
2025-07-06 17:25:35.736 | INFO     | sociology_simulation.mcp_integration:mcp_execute_actions:426 - [Trinity MCP] Using basic action execution
2025-07-06 17:25:35.736 | INFO     | sociology_simulation.mcp_integration:_basic_execute_actions:435 - [Trinity Fallback] Executing basic world actions
2025-07-06 17:25:35.736 | INFO     | sociology_simulation.world:step:769 - 
========================================
2025-07-06 17:25:35.736 | INFO     | sociology_simulation.world:step:770 - TURN SUMMARY - 2 agents alive
2025-07-06 17:25:35.736 | INFO     | sociology_simulation.world:step:771 - Groups: 0, Technologies: 0
2025-07-06 17:25:35.736 | INFO     | sociology_simulation.world:step:772 - Markets: 0, Political Entities: 0
2025-07-06 17:25:35.736 | INFO     | sociology_simulation.world:step:773 - Era: Áü≥Âô®Êó∂‰ª£
2025-07-06 17:25:35.736 | INFO     | sociology_simulation.world:step:775 - ÊäÄËÉΩÂçï‰∏ÄÔºåÁ§æ‰ºöÂèëÂ±ïÂèóÈôê
2025-07-06 17:25:35.736 | INFO     | sociology_simulation.world:step:775 - Á§æ‰ºöÂ≠§Á´ãÁé∞Ë±°‰∏•ÈáçÔºåÂêà‰ΩúÂõ∞Èöæ
2025-07-06 17:25:35.736 | INFO     | sociology_simulation.world:step:775 - ÁªèÊµéÂõ∞ÈöæÔºåËµÑÊ∫êÂàÜÈÖç‰∏çÂùá
2025-07-06 17:25:35.736 | INFO     | sociology_simulation.world:step:776 - ========================================

2025-07-06 17:25:35.739 | INFO     | __main__:run_simulation:218 - Cleaning up MCP connections...
2025-07-06 17:25:35.739 | INFO     | sociology_simulation.mcp_integration:cleanup_mcp:460 - MCP connections cleaned up
2025-07-06 17:25:35.739 | INFO     | __main__:run_simulation:220 - MCP cleanup completed
