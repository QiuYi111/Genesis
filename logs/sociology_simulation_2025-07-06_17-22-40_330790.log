2025-07-06 17:22:40.340 | SUCCESS  | sociology_simulation.prompts:load_from_config:399 - 从 sociology_simulation/conf/prompts.yaml 加载了 12 个提示词模板
2025-07-06 17:22:40.340 | INFO     | __main__:main:88 - Applying MCP integration...
2025-07-06 17:22:40.340 | INFO     | sociology_simulation.mcp_integration:apply_mcp_integration:498 - Applying MCP integration patches...
2025-07-06 17:22:40.340 | SUCCESS  | sociology_simulation.mcp_integration:apply_mcp_integration:502 - Agent class patched for MCP
2025-07-06 17:22:40.340 | SUCCESS  | sociology_simulation.mcp_integration:apply_mcp_integration:508 - Trinity class patched for MCP
2025-07-06 17:22:40.340 | SUCCESS  | sociology_simulation.mcp_integration:apply_mcp_integration:514 - World class patched for MCP
2025-07-06 17:22:40.340 | SUCCESS  | sociology_simulation.mcp_integration:apply_mcp_integration:518 - MCP integration patches applied successfully
2025-07-06 17:22:40.340 | INFO     | __main__:main:90 - MCP integration applied successfully
2025-07-06 17:22:40.340 | INFO     | __main__:main:92 - Starting sociology simulation with Hydra configuration
2025-07-06 17:22:40.340 | INFO     | __main__:main:93 - Initialized 12 prompt templates
2025-07-06 17:22:40.340 | INFO     | __main__:main:94 - Prompt statistics: {'total_templates': 12, 'json_templates': 8, 'categories': {'agent': 3, 'trinity': 5, 'action': 2, 'json': 1, 'rule': 1}}
2025-07-06 17:22:40.341 | INFO     | __main__:main:95 - Era: 石器时代
2025-07-06 17:22:40.341 | INFO     | __main__:main:96 - World size: 64x64
2025-07-06 17:22:40.341 | INFO     | __main__:main:97 - Number of agents: 10
2025-07-06 17:22:40.341 | INFO     | __main__:main:98 - Turns: 1000
2025-07-06 17:22:40.341 | INFO     | __main__:run_simulation:120 - Initializing MCP client for world...
2025-07-06 17:22:40.341 | WARNING  | sociology_simulation.mcp_client:initialize:85 - Failed to connect to agent_actions server: ClientSession.__init__() missing 2 required positional arguments: 'read_stream' and 'write_stream'
2025-07-06 17:22:40.341 | WARNING  | sociology_simulation.mcp_client:initialize:85 - Failed to connect to social_interactions server: ClientSession.__init__() missing 2 required positional arguments: 'read_stream' and 'write_stream'
2025-07-06 17:22:40.341 | WARNING  | sociology_simulation.mcp_client:initialize:85 - Failed to connect to world_management server: ClientSession.__init__() missing 2 required positional arguments: 'read_stream' and 'write_stream'
2025-07-06 17:22:40.342 | WARNING  | sociology_simulation.mcp_client:initialize:85 - Failed to connect to skills server: ClientSession.__init__() missing 2 required positional arguments: 'read_stream' and 'write_stream'
2025-07-06 17:22:40.342 | WARNING  | sociology_simulation.mcp_client:initialize:85 - Failed to connect to decision server: ClientSession.__init__() missing 2 required positional arguments: 'read_stream' and 'write_stream'
2025-07-06 17:22:40.342 | WARNING  | sociology_simulation.mcp_client:initialize:89 - No MCP servers available, using fallback mode
2025-07-06 17:22:40.342 | SUCCESS  | sociology_simulation.mcp_integration:initialize_mcp:374 - MCP integration initialized
2025-07-06 17:22:40.342 | INFO     | __main__:run_simulation:122 - MCP client initialized successfully
2025-07-06 17:22:40.342 | WARNING  | sociology_simulation.mcp_integration:mcp_generate_initial_rules:262 - [Trinity MCP] Using fallback rule generation
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.mcp_integration:_setup_default_rules:291 - Setup default rules for Trinity
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:76 - 
========================================
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:77 - INITIALIZING WORLD FOR ERA: 石器时代
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:78 - TERRAIN TYPES: OCEAN, FOREST, GRASSLAND, MOUNTAIN
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:79 - RESOURCE RULES:
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:81 -   WOOD:
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:83 -     - FOREST: 50.0% chance
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:83 -     - OCEAN: 0% chance
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:81 -   APPLE:
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:83 -     - FOREST: 30.0% chance
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:83 -     - GRASSLAND: 20.0% chance
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:81 -   FISH:
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:83 -     - OCEAN: 40.0% chance
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:81 -   STONE:
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:83 -     - MOUNTAIN: 60.0% chance
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:81 -   MAGICAL_CRYSTAL:
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:83 -     - MOUNTAIN: 10.0% chance
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:83 -     - FOREST: 5.0% chance
2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:initialize:84 - ========================================

2025-07-06 17:22:40.342 | INFO     | sociology_simulation.world:generate_realistic_terrain:143 - Generating terrain using 'mixed' algorithm with seed 859271
2025-07-06 17:22:40.442 | SUCCESS  | sociology_simulation.world:generate_realistic_terrain:153 - Generated realistic 64x64 terrain map
2025-07-06 17:22:40.443 | INFO     | sociology_simulation.world:initialize:94 - INITIAL RESOURCE DISTRIBUTION:
2025-07-06 17:22:40.443 | INFO     | sociology_simulation.world:initialize:96 -   APPLE: 715 units
2025-07-06 17:22:40.443 | INFO     | sociology_simulation.world:initialize:96 -   FISH: 87 units
2025-07-06 17:22:40.443 | INFO     | sociology_simulation.world:initialize:96 -   MAGICAL_CRYSTAL: 44 units
2025-07-06 17:22:40.443 | INFO     | sociology_simulation.world:initialize:96 -   STONE: 279 units
2025-07-06 17:22:40.443 | INFO     | sociology_simulation.world:initialize:96 -   WOOD: 13 units
2025-07-06 17:22:40.443 | INFO     | sociology_simulation.world:initialize:97 - ========================================

